<app-header></app-header>

<div class="container" [ngClass]="{admin: isAdmin}">
    <div class="contact-box">
        <h1 class="box-title">Contact us</h1>
        <form [formGroup]="contactForm" class="contact-form">
            <label for="name">Name</label>
            <input class="name-input" minlength="4" maxlength="20" type="text" formControlName="name">
            <label for="email">Email address</label>
            <input class="email-input" type="text" formControlName="email">
            <label for="message">Message</label>
            <textarea class="message-input" rows="10" minlength="50" maxlength="300" cdkTextareaAutosize
                cdkAutosizeMinRows="5" formControlName="message">
            </textarea>
            <button mat-raised-button color="primary" class="submit-btn" type="submit" (click)="sendMessage()"
                [disabled]="contactForm.invalid">Submit</button>
        </form>
    </div>
</div>

<div class="messages-list" [ngClass]="{admin: !isAdmin}">
    <h1 class="admin-messages-title">Messages from our users</h1>
    <mat-selection-list #messages [multiple]="false">
        <mat-list-option *ngFor="let user of users" [value]="user.name" (click)="showMessage(user)">
            {{user.name}}
            <mat-icon class="delete-btn" (click)="deleteMessage(user)">delete</mat-icon>
        </mat-list-option>
    </mat-selection-list>
</div>